<form [formGroup]="personForm" (ngSubmit)="submit()">
  <h2>Personal Information</h2>
  <mat-form-field appearance="outline">
    <mat-label>First Name</mat-label>
    <input matInput formControlName="firstName">
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Last Name</mat-label>
    <input matInput formControlName="lastName">
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Email Address</mat-label>
    <input matInput formControlName="email">
  </mat-form-field>

  <h3>Dependents</h3>
  <div formArrayName="dependents">
    <div *ngFor="let dep of dependents.controls; let i = index" [formGroupName]="i" style="display:flex; gap:10px; margin-bottom:10px;">
      <mat-form-field appearance="outline">
        <mat-label>Name</mat-label>
        <input matInput formControlName="name">
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Age</mat-label>
        <input matInput type="number" formControlName="age">
      </mat-form-field>

      <button mat-raised-button color="warn" type="button" (click)="removeDependent(i)">Remove</button>
    </div>
  </div>

  <button mat-raised-button color="primary" type="button" (click)="addDependent()">+ Add Dependent</button>

  <div style="margin-top:20px;">
    <button mat-stroked-button type="button">Cancel</button>
    <button mat-raised-button color="primary" type="submit">Submit</button>
  </div>
</form>
